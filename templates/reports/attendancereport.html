{% extends "base.html" %} {% load static %} {% block PageTitle %}Attendance records
{% endblock %} {% block UserName %} {{ UserName}}
{% endblock %} {% block Title %} REPORTS {% endblock %} {% block functionTitle%} ATTENDANCE REPORTS{% endblock %} {% block content %}


            
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="card" id="tasksList">
                                <div class="card-header border-0">
                                    <div class="d-flex align-items-center">
                                        <h5 class="card-title mb-0 flex-grow-1">Attendance Report</h5>
                                       
                                    </div>
                                </div>
                                <div class="card-body border border-dashed border-end-0 border-start-0">
                                    <form>
                                        <div class="row g-3">
                                            <div class="col-xxl-5 col-sm-12">
                                                <div class="search-box">
                                                    <input type="text" id="childCode" class="form-control search bg-light border-light" placeholder="Search for child">
                                                    <i class="ri-search-line search-icon"></i>
                                                </div>
                                            </div>
                                            <!--end col-->

                                            <div class="col-xxl-2 col-sm-4">
                                                <input type="text" class="form-control bg-light border-light" id="fromDate" data-provider="flatpickr" data-date-format='Y-m-d'  placeholder="From">
                                            </div>
                                            <!--end col-->

                                            <div class="col-xxl-2 col-sm-4">
                                                <input type="text" class="form-control bg-light border-light" id="toDate" data-provider="flatpickr" data-date-format='Y-m-d' placeholder="To">
                                            </div>
                                            <!--end col-->

                                            <div class="col-xxl-3 col-sm-4">
                                                <input type="text" class="form-control bg-light border-light" id="toDate" data-provider="flatpickr" data-date-format='Y-m-d' placeholder="To">
                                            </div>
                                            <!--end col-->
                                            
                                            <!--end col-->
                                        </div>
                                        <!--end row-->
                                    </form>
                                </div>
                                <!--end card-body-->
                                <div class="card-body">
                                    <table id="tblAttendanceRecords" class="table table-striped table-hover" cellspacing="0">
                                        <thead>
                                          <tr>
                                            <th>Center code</th>
                                            <th>Center name</th>
                                            <th>Branch</th>
                                            <th>In-charge</th>
                                            <th>Mobile number</th>
                                            <th>Telepone number</th>
                                            <th>Is active</th>
                                            <th data-orderable="false"></th>
                                          </tr>
                                        </thead>
                                      </table>
                                </div>
                                <!--end card-body-->
                            </div>
                            <!--end card-->
                        </div>
                        <!--end col-->
                    </div>
                    <!--end row-->
                </div>
                <!-- container-fluid -->
           

            
      


{% endblock %}  {% block scripts %}
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<!--datatable js-->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>

<script src="{% static 'assets/js/pages/datatables.init.js' %}"></script>
<script src="{% static 'assets/libs/node-waves/waves.min.js' %}"></script>
<script src="{% static 'assets/libs/feather-icons/feather.min.js' %}"></script>
<!-- flatpickr -->
<script src="{% static 'assets/libs/flatpickr/flatpickr.min.js' %}"></script>
<script src="{% static 'assets/libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/libs/simplebar/simplebar.min.js' %}"></script>

<script>
  var $ = jQuery;
  var id;
  var dataTable;

  jQuery(document).ready(function () {

    jQuery('#fromDate').flatpickr({
                minDate: new Date().fp_incr(-60), 
                maxDate:  "today",
                
            });
    jQuery('#toDate').flatpickr({
                minDate: new Date().fp_incr(-60), 
                maxDate:  new Date().fp_incr(-1), 
                
       });
    
           
    window.setTimeout(function () {
      // Select the inner div with the class "alert" inside the outer div with class "flex-shrink-0"
      var alertDiv = jQuery(".alert");

      // Check if the inner div contains a success message
      var successMessageFound = alertDiv.find(".alert-success").length > 0;

      // If a success message is found, apply the fade-out effect
      if (successMessageFound) {
        alertDiv.fadeTo(1000, 0).slideUp(1000, function () {
          jQuery(this).remove();
        });
      }
    }, 2000);

    var table = $("#tblAttendanceRecords").DataTable({
      responsive: true,
      dom: "Bfrtip",
            pageLength: 50,

            buttons: ["excel", "print"],
      order: [[1, "asc"]], // Set default sorting by admission_date in descending order
    });
  });



  jQuery("#time_logged").flatpickr({
    enableTime: true,
    noCalendar: true,
    enableSeconds: false,
    dateFormat: "H:i",
    allowInput: true,
  });

  

</script>

<!-- App js -->
<script src="{% static 'assets/js/app.js' %}"></script>

{% endblock %}
