{% extends "base.html" %}
{% load static %}
{% block UserName %} {{ UserName }} {% endblock %}
{% block Title %} CHILD {% endblock %}
{% block functionTitle %} REGISTRATION{% endblock %}

{% block content %}
<form action="{% url 'core:save_child' %}" method="post">
    {% csrf_token %}
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header align-items-center d-flex">
                    <h4 class="card-title mb-0 flex-grow-1">Child Details</h4>
                    <div class="flex-shrink-0">
                        <div class="alert  alert-dismissible" role="alert">
                            {% if messages %}
                            {% for message in messages %}
                            <!-- Danger Alert -->
                            <div class="alert alert-{{ message.tags }} alert-dismissible border-2 bg-body-secondary fade show"
                                 role="alert">
                                <strong>
                                    <center> {{ message }}</center>
                                </strong>
                                <button type="button" class="btn-close" data-bs-dismiss="alert"
                                        aria-label="Close"></button>
                            </div>
                            {% endfor %}
                            {% endif %}       <!-- end row -->
                        </div>
                    </div>
                </div><!-- end card header -->
                <div class="card-body">
                    <div class="live-preview">
                        <div class="row gy-4">
                            <div class="col-xxl-3 col-md-6">
                                <div>
                                    {{ form.admission_number }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-xxl-3 col-md-6">
                                <div>
                                    {{ form.admission_date }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-xxl-3 col-md-6">
                                <div>
                                    {{ form.recipt_number }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-xxl-3 col-md-6">
                                <div>
                                    <div class="form-check form-switch">
                                        {{ form.is_polymath_student }}
                                        <label class="form-check-label" >Is Polymath student?</label>

                                    </div>
                                </div>
                            </div>


                            <!--end col-->
                            <div class="col-xxl-3 col-md-6">
                                <div>
                                    {{ form.child_first_name }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-xxl-3 col-md-6">
                                <div>
                                    {{ form.child_last_name }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-xxl-3 col-md-6">
                                <div>
                                    {{ form.date_of_birth }}
                                </div>
                            </div>
                            <!--end col-->

                            <!--end col-->


                        </div>
                        <!--end row-->
                    </div>
                </div>

            </div>

            <div class="card">
                <div class="card-header align-items-center d-flex">
                    <h4 class="card-title mb-0 flex-grow-1">Parent's Details</h4>
                    <div class="flex-shrink-0">

                    </div>
                </div><!-- end card header -->
                <div class="card-body">
                    <div class="live-preview">
                        <div class="row gy-4">

                            <div class=" col-md-4">
                                <div>
                                    {{ form.fathers_name }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class=" col-md-4">
                                <div>
                                    {{ form.fathers_contact_number }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class=" col-md-4">
                                <div>
                                    {{ form.fathers_whatsapp_number }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class=" col-md-4">
                                <div>
                                    {{ form.mothers_name }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-md-4">
                                <div>
                                    {{ form.mothers_contact_number }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-md-4">
                                <div>
                                    {{ form.mothers_whatsapp_number }}
                                </div>
                            </div>
                            <!--end col-->

                        </div>
                        <!--end row-->
                    </div>
                </div>

            </div>

            <div class="card">
                <div class="card-header align-items-center d-flex">
                    <h4 class="card-title mb-0 flex-grow-1">Contact Details</h4>
                    <div class="flex-shrink-0">

                    </div>
                </div><!-- end card header -->
                <div class="card-body">
                    <div class="live-preview">
                        <div class="row gy-4">

                            <div class=" col-md-4">
                                <div>
                                    {{ form.resident_contact_number }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class=" col-md-4">
                                <div>
                                    {{ form.address_line1 }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class=" col-md-4">
                                <div>
                                    {{ form.address_line2 }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class=" col-md-4">
                                <div>
                                    {{ form.address_line3 }}
                                </div>
                            </div>
                            <!--end col-->
                            <div class="col-md-4">
                                <div>
                                    {{ form.email_address }}
                                </div>
                            </div>
                            <!--end col-->
                            <!-- Base Buttons -->


                        </div>
                        <!--end row-->

                    </div>
                </div>
                <div>

                </div>

            </div>

        </div>
        <!--end col-->
        <div class="row">
            <div style="padding:5px">
                <button type="submit" class="btn btn-outline-secondary btn-border">Submit</button>
            </div>
        </div>
    </div>
</form>

<!-- Data Table-->
<div class="card">
    <div class="card-header">
        <h4 class="card-title mb-0 flex-grow-1">Base Example</h4>
    </div><!-- end card header -->

    <div class="card-body">
        <table id="ChildList" class="display" style="width:100%">
            <thead>
            <tr>
                <th>Admission No</th>
                <th>First name</th>
                <th>Last name</th>
                <th>Admission date</th>
                <th>Father's name</th>
                <th>Father's contact number</th>
                <th>Mother's name</th>
                <th>Mother's contact number</th>
                <th>Residence phone numbers</th>
                <th>Status</th>
            </tr>
            </thead>
            <tbody>
            {% for child in childrenList %}
            <tr>
                <td>{{ child.admission_number }}</td>
                <td>{{ child.child_first_name }}</td>
                <td>{{ child.child_last_name }}</td>
                <td>{{ child.admission_date }}</td>
                <td>{{ child.fathers_name }}</td>
                <td>{{ child.fathers_contact_number }}</td>
                <td>{{ child.fathers_contact_number }}</td>
                <td>{{ child.fathers_contact_number }}</td>
                <td>{{ child.fathers_contact_number }}</td>
                <td>{{ child.fathers_contact_number }}</td>
            </tr>
            {% endfor %}

            </tbody>
        </table>
    </div><!-- end card-body -->
</div>

{% block scripts %}
<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<!--datatable js-->
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.2.2/js/buttons.html5.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>

<script src="{% static 'assets/js/pages/datatables.init.js' %}"></script>
<script src="{% static 'assets/libs/node-waves/waves.min.js' %}"></script>
<script src="{% static 'assets/libs/feather-icons/feather.min.js' %}"></script>
<!-- flatpickr -->
<script src="{% static 'assets/libs/flatpickr/flatpickr.min.js' %}"></script>
<script src="{% static 'assets/libs/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'assets/libs/simplebar/simplebar.min.js' %}"></script>

<script>
    var $ = jQuery;
    jQuery(document).ready(function () {
        $.noConflict();
        var table = $('#ChildList').DataTable({
            select: true,
            "lengthMenu": [[2, 25, 50, -1], [10, 25, 50, "All"]],
            dom: 'Bfrtip',
            buttons: [
                'colvis',
                'excel',
                'print'
            ]
        });
    });
</script>


<!-- App js -->
<script src="{% static 'assets/js/app.js' %}"></script>


{% endblock %}


{% endblock %}